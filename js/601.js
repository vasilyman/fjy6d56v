"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[601],{4274:(e,t,r)=>{r.d(t,{g:()=>i});var n=r(7378),a=r(9266),l=r(8486);var o=r(8922),i=function(e){var t=e.control,r=(0,o.$G)().t;return n.createElement("div",{className:"style-module_form-HBsKi"},n.createElement(l.M,{control:t,name:"imgUrl"}),n.createElement(a.$,{control:t,name:"title",label:r("translation:categoryTitle")}))}},5601:(e,t,r)=>{r.r(t),r.d(t,{AddCategoryPage:()=>A});var n=r(7378),a=r(8922),l=r(8039),o=r(8425);var i,c=r(9876),u=r(8537),s=r(6125),m=r(9969),d=r(4274);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,o,i=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E,v,y=(0,c.Ps)(i||(E=["\n  mutation Add($input: CategoryAddInput!) {\n    categories {\n      add(input: $input) {\n        id\n      }\n    }\n  }\n"],v||(v=E.slice(0)),i=Object.freeze(Object.defineProperties(E,{raw:{value:Object.freeze(v)}})))),b=function(e){return e[e.IDDLE=0]="IDDLE",e[e.ADDED=1]="ADDED",e[e.ERROR=2]="ERROR",e}(b||{}),h=function(){var e=(0,l.cI)({defaultValues:{imgUrl:"",title:""},mode:"all"}),t=e.control,r=e.handleSubmit,i=e.formState,c=i.isSubmitting,g=i.errors,E=e.getValues,v=e.setError,h=f((0,n.useState)(b.IDDLE),2),D=h[0],p=h[1],A=(0,s.v9)(m.u.getAccess),R=f((0,u.D)(y,{context:{headers:{authorization:"Bearer ".concat(A)}},update:function(e){e.evict({fieldName:"categories"}),e.gc()}}),1)[0],O=(0,a.$G)().t;return n.createElement("div",{className:"style-module_add-category-gT8s6"},D!==b.ADDED?n.createElement(n.Fragment,null,n.createElement(d.g,{control:t}),n.createElement(o.z,{label:O("translation:save"),block:!0,disabled:c,onClick:r((function(e){return R({variables:{input:{name:e.title,photo:e.imgUrl}}}).then((function(e){p(b.ADDED),console.log(e.data.categories.add.id)})).catch((function(e){p(b.ERROR),v("root",e)}))}))}),D===b.ERROR&&n.createElement("div",null,"Ошибка: ",g.root.message)):n.createElement("div",null,"Добавлена новая категория ",E("title")))},D=r(2952),p=r(4174),A=function(){var e=(0,a.$G)().t;return n.createElement(n.Fragment,null,n.createElement(D.W,null,n.createElement("h1",null,(0,p.o)(e("translation:addCategory")))),n.createElement(D.W,null,n.createElement(h,null)))}}}]);
//# sourceMappingURL=601.js.map