{"version":3,"file":"js/991.js","mappings":"8MAMMA,GAAeC,EAAAA,EAAAA,IAAGC,I,EAAA,kU,kBAAAA,E,2EAqBXC,EAAY,WACvB,IAAMC,GAAcC,EAAAA,EAAAA,IAAYC,EAAAA,EAAcC,WAEhCC,GAAcC,EAAAA,EAAAA,IAAgCT,EAAc,CACxEU,MAAON,EACPO,QAAS,CACPC,QAAS,CACPC,cAAe,UAAFC,OAAYV,OAJvBW,KASFC,GAASC,EAAAA,EAAAA,UAAQ,WAAM,IAAAC,EAC3B,OAAqC,QAArCA,EAAOV,aAAS,EAATA,EAAWQ,OAAOG,QAAQJ,YAAI,IAAAG,EAAAA,EAAI,EAC3C,GAAG,CAACV,IACJ,OACEY,EAAAA,cAAA,UACGJ,EAAOK,KAAI,SAACC,GAAK,OAChBF,EAAAA,cAAA,MAAIG,IAAKD,EAAME,IACbJ,EAAAA,cAAA,WAAK,WAASE,EAAMG,QACpBL,EAAAA,cAAA,WAAK,YAAUE,EAAMI,SAASC,QAC3B,IAIb,EC9CaC,EAAa,WACxB,IAAQC,GAAMC,EAAAA,EAAAA,MAAND,EACR,OACET,EAAAA,cAAA,YACEA,EAAAA,cAACW,EAAAA,EAAS,KACRX,EAAAA,cAAA,WAAKY,EAAAA,EAAAA,GAAeH,EAAE,yBAExBT,EAAAA,cAACW,EAAAA,EAAS,KACRX,EAAAA,cAACjB,EAAS,OAIlB,C","sources":["webpack:///./widgets/orderList/index.tsx","webpack:///./pages/ordersPage/index.tsx"],"sourcesContent":["import { gql, useQuery } from '@apollo/client';\nimport React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Query } from 'src/app/apollo/type';\nimport { authSelectors } from 'src/entities/auth/store';\n\nconst orderListGet = gql`\n  query GetMany($input: OrderGetManyInput) {\n    orders {\n      getMany(input: $input) {\n        pagination {\n          total\n        }\n        data {\n          products {\n            product {\n              name\n            }\n          }\n          status\n          id\n        }\n      }\n    }\n  }\n`;\n\nexport const OrderList = () => {\n  const accessToken = useSelector(authSelectors.getAccess);\n\n  const { data: ordersRaw } = useQuery<Pick<Query, 'orders'>>(orderListGet, {\n    skip: !accessToken,\n    context: {\n      headers: {\n        authorization: `Bearer ${accessToken}`,\n      },\n    },\n  });\n\n  const orders = useMemo(() => {\n    return ordersRaw?.orders.getMany.data ?? [];\n  }, [ordersRaw]);\n  return (\n    <ul>\n      {orders.map((order) => (\n        <li key={order.id}>\n          <div>Статус: {order.status}</div>\n          <div>Позиций: {order.products.length}</div>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Container } from 'src/shared/container';\nimport { firstUppercase } from 'src/shared/lib/firstUppercase';\nimport { OrderList } from 'src/widgets/orderList';\n\nexport const OrdersPage = () => {\n  const { t } = useTranslation();\n  return (\n    <main>\n      <Container>\n        <h1>{firstUppercase(t('translation:orders'))}</h1>\n      </Container>\n      <Container>\n        <OrderList />\n      </Container>\n    </main>\n  );\n};\n"],"names":["orderListGet","gql","_templateObject","OrderList","accessToken","useSelector","authSelectors","getAccess","ordersRaw","useQuery","skip","context","headers","authorization","concat","data","orders","useMemo","_ordersRaw$orders$get","getMany","React","map","order","key","id","status","products","length","OrdersPage","t","useTranslation","Container","firstUppercase"],"sourceRoot":""}