{"version":3,"file":"js/83.js","mappings":"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","sources":["webpack:///./widgets/cartList/style.module.scss?2cd1","webpack:///./widgets/cartItem/style.module.scss?d171","webpack:///./features/removeFromCart/index.tsx","webpack:///./features/removeFromCart/style.module.scss?18ef","webpack:///./widgets/cartItem/index.tsx","webpack:///./widgets/cartList/index.tsx","webpack:///./pages/cartPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cart-list\":\"style-module_cart-list-FPGZh\",\"cart-list__empty\":\"style-module_cart-list__empty-fsM4X\"};","// extracted by mini-css-extract-plugin\nexport default {\"cart-item\":\"style-module_cart-item-z1TeO\",\"cart-item__row\":\"style-module_cart-item__row-FoeA2\",\"cart-item__image\":\"style-module_cart-item__image-VTGmV\",\"cart-item__content\":\"style-module_cart-item__content-U9WW7\",\"cart-item__title\":\"style-module_cart-item__title-F4AE0\",\"cart-item__description\":\"style-module_cart-item__description-BeOPp\",\"cart-item__action\":\"style-module_cart-item__action-aCDiE\",\"cart-item__sum\":\"style-module_cart-item__sum-Dbis5\",\"ellipsis\":\"style-module_ellipsis-IAM2m\"};","import React, { FC } from 'react';\nimport cn from 'clsx';\nimport $style from './style.module.scss';\nimport { Icon } from '../../shared';\nimport { accountActions } from 'src/entities/account/store';\nimport { useAppDispatch } from 'src/app/store';\n\ninterface RemoveFromCartProps {\n  id: string;\n  className?: string;\n}\n\nexport const RemoveFromCart: FC<RemoveFromCartProps> = ({ id, className }) => {\n  const dispatch = useAppDispatch();\n  const onDelete = () => {\n    return dispatch(accountActions.deleteProduct(id));\n  };\n\n  return (\n    <button\n      type=\"button\"\n      title=\"Убрать из корзины\"\n      className={cn($style['remove-from-cart'], className)}\n      onClick={onDelete}\n    >\n      <Icon name=\"trash\" size=\"24\" />\n    </button>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"remove-from-cart\":\"style-module_remove-from-cart-y75pS\"};","import React, { FC } from 'react';\nimport $style from './style.module.scss';\nimport cn from 'clsx';\nimport { AddToCard } from 'src/features';\nimport { EProductType } from 'src/entities/productType';\nimport { TProduct } from 'src/entities/product';\nimport { RemoveFromCart } from 'src/features/removeFromCart';\n\nexport interface CartItemProps {\n  id: string;\n  sum: number;\n  imgUrl?: string;\n  title: string;\n  className?: string;\n  description?: string;\n  type: EProductType;\n}\n\nexport const CartItem: FC<CartItemProps> = ({ sum, imgUrl, title, description, id, type }) => {\n  const sumFormatted = new Intl.NumberFormat('ru-RU', { maximumSignificantDigits: 3 }).format(sum);\n\n  const product: TProduct = {\n    id,\n    type,\n    title,\n    sum,\n    description,\n    imgUrl,\n  };\n\n  return (\n    <>\n      <section className={$style['cart-item__row']}>\n        <img className={cn($style['cart-item__image'])} src={imgUrl} />\n        <div className={cn($style['cart-item__content'])}>\n          <div className={cn($style['cart-item__title'])}>{title}</div>\n          <div className={cn($style['cart-item__description'])}>{description}</div>\n        </div>\n        <div className={$style['cart-item__action']}>\n          <div className={$style['cart-item__sum']} title={sumFormatted}>\n            <span className={$style['ellipsis']}>{sumFormatted}</span>\n            <span>&nbsp;₽</span>\n          </div>\n          <AddToCard className={cn($style['cart-item__add-to-card'])} product={product} />\n          <RemoveFromCart id={id} />\n        </div>\n      </section>\n    </>\n  );\n};\n","import React, { FC, useMemo } from 'react';\nimport $style from './style.module.scss';\nimport cn from 'clsx';\nimport { CartItem } from '../cartItem';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { accountSelectors } from 'src/entities/account/store';\nimport { EProductType } from 'src/entities/productType';\n\nexport type CartItem = {\n  id: string;\n  sum: number;\n  qty: number;\n  imgUrl?: string;\n  title: string;\n  description?: string;\n  type: EProductType;\n};\n\ninterface CartListProps {\n  className?: string;\n}\n\nexport const CartList: FC<CartListProps> = ({ className }) => {\n  const { t } = useTranslation();\n\n  const orderPositions = useSelector(accountSelectors.getOrderPositions);\n  const items = useMemo(() => {\n    if (!orderPositions) return [];\n\n    return Object.keys(orderPositions).map((key) => ({\n      id: orderPositions[key].product?.id,\n      sum: orderPositions[key].salePriceTotal,\n      qty: orderPositions[key].qty,\n      imgUrl: orderPositions[key].product?.imgUrl,\n      title: orderPositions[key].product?.title,\n      description: orderPositions[key].product.description,\n      type: orderPositions[key].product?.type,\n    }));\n  }, [orderPositions]);\n\n  return (\n    <section className={cn(className, $style['cart-list'])}>\n      {items.length === 0 ? (\n        <div className={$style['cart-list__empty']}>{t('translation:cartEmpty')}</div>\n      ) : (\n        items.map((item) => <CartItem key={item.id} {...item} className={$style['cart-list__item']} />)\n      )}\n    </section>\n  );\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Container } from 'src/shared/container';\nimport { firstUppercase } from 'src/shared/lib/firstUppercase';\nimport { CartList } from 'src/widgets/cartList';\n\nexport const CartPage = () => {\n  const { t } = useTranslation();\n\n  return (\n    <main>\n      <Container>\n        <h1>{firstUppercase(t('translation:cartPageTitle'))}</h1>\n      </Container>\n      <Container>\n        <CartList />\n      </Container>\n    </main>\n  );\n};\n"],"names":["RemoveFromCart","_ref","id","className","dispatch","useAppDispatch","React","type","title","cn","onClick","accountActions","deleteProduct","Icon","name","size","CartItem","sum","imgUrl","description","sumFormatted","Intl","NumberFormat","maximumSignificantDigits","format","product","$style","src","AddToCard","CartList","t","useTranslation","orderPositions","useSelector","accountSelectors","getOrderPositions","items","useMemo","Object","keys","map","key","_orderPositions$key$p","_orderPositions$key$p2","_orderPositions$key$p3","_orderPositions$key$p4","salePriceTotal","qty","length","item","_extends","CartPage","Container","firstUppercase"],"sourceRoot":""}